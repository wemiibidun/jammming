{"ast":null,"code":"'use strict';\n\nfunction _crypto() {\n  const data = require('crypto');\n\n  _crypto = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction path() {\n  const data = _interopRequireWildcard(require('path'));\n\n  path = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _core() {\n  const data = require('@babel/core');\n\n  _core = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _chalk() {\n  const data = _interopRequireDefault(require('chalk'));\n\n  _chalk = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction fs() {\n  const data = _interopRequireWildcard(require('graceful-fs'));\n\n  fs = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _slash() {\n  const data = _interopRequireDefault(require('slash'));\n\n  _slash = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar _loadBabelConfig = require('./loadBabelConfig');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== 'function') return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function () {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== 'object' && typeof obj !== 'function') {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n/**\n * Copyright (c) Facebook, Inc. and its affiliates. All Rights Reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nconst THIS_FILE = fs().readFileSync(__filename);\n\nconst jestPresetPath = require.resolve('babel-preset-jest');\n\nconst babelIstanbulPlugin = require.resolve('babel-plugin-istanbul'); // Narrow down the types\n\n\nconst createTransformer = userOptions => {\n  var _inputOptions$plugins, _inputOptions$presets;\n\n  const inputOptions = userOptions !== null && userOptions !== void 0 ? userOptions : {};\n  const options = { ...inputOptions,\n    caller: {\n      name: 'babel-jest',\n      supportsDynamicImport: false,\n      supportsExportNamespaceFrom: false,\n      supportsStaticESM: false,\n      supportsTopLevelAwait: false,\n      ...inputOptions.caller\n    },\n    compact: false,\n    plugins: (_inputOptions$plugins = inputOptions.plugins) !== null && _inputOptions$plugins !== void 0 ? _inputOptions$plugins : [],\n    presets: ((_inputOptions$presets = inputOptions.presets) !== null && _inputOptions$presets !== void 0 ? _inputOptions$presets : []).concat(jestPresetPath),\n    sourceMaps: 'both'\n  };\n\n  function loadBabelConfig(cwd, filename, transformOptions) {\n    var _transformOptions$sup, _transformOptions$sup2, _transformOptions$sup3, _transformOptions$sup4; // `cwd` first to allow incoming options to override it\n\n\n    const babelConfig = (0, _loadBabelConfig.loadPartialConfig)({\n      cwd,\n      ...options,\n      caller: { ...options.caller,\n        supportsDynamicImport: (_transformOptions$sup = transformOptions === null || transformOptions === void 0 ? void 0 : transformOptions.supportsDynamicImport) !== null && _transformOptions$sup !== void 0 ? _transformOptions$sup : options.caller.supportsDynamicImport,\n        supportsExportNamespaceFrom: (_transformOptions$sup2 = transformOptions === null || transformOptions === void 0 ? void 0 : transformOptions.supportsExportNamespaceFrom) !== null && _transformOptions$sup2 !== void 0 ? _transformOptions$sup2 : options.caller.supportsExportNamespaceFrom,\n        supportsStaticESM: (_transformOptions$sup3 = transformOptions === null || transformOptions === void 0 ? void 0 : transformOptions.supportsStaticESM) !== null && _transformOptions$sup3 !== void 0 ? _transformOptions$sup3 : options.caller.supportsStaticESM,\n        supportsTopLevelAwait: (_transformOptions$sup4 = transformOptions === null || transformOptions === void 0 ? void 0 : transformOptions.supportsTopLevelAwait) !== null && _transformOptions$sup4 !== void 0 ? _transformOptions$sup4 : options.caller.supportsTopLevelAwait\n      },\n      filename\n    });\n\n    if (!babelConfig) {\n      throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);\n    }\n\n    return babelConfig;\n  }\n\n  return {\n    canInstrument: true,\n\n    getCacheKey(fileData, filename, configString, cacheKeyOptions) {\n      const {\n        config,\n        instrument,\n        rootDir\n      } = cacheKeyOptions;\n      const babelOptions = loadBabelConfig(config.cwd, filename, cacheKeyOptions);\n      const configPath = [babelOptions.config || '', babelOptions.babelrc || ''];\n      return (0, _crypto().createHash)('md5').update(THIS_FILE).update('\\0', 'utf8').update(JSON.stringify(babelOptions.options)).update('\\0', 'utf8').update(fileData).update('\\0', 'utf8').update(path().relative(rootDir, filename)).update('\\0', 'utf8').update(configString).update('\\0', 'utf8').update(configPath.join('')).update('\\0', 'utf8').update(instrument ? 'instrument' : '').update('\\0', 'utf8').update(process.env.NODE_ENV || '').update('\\0', 'utf8').update(process.env.BABEL_ENV || '').digest('hex');\n    },\n\n    process(src, filename, config, transformOptions) {\n      const babelOptions = { ...loadBabelConfig(config.cwd, filename, transformOptions).options\n      };\n\n      if (transformOptions === null || transformOptions === void 0 ? void 0 : transformOptions.instrument) {\n        babelOptions.auxiliaryCommentBefore = ' istanbul ignore next '; // Copied from jest-runtime transform.js\n\n        babelOptions.plugins = (babelOptions.plugins || []).concat([[babelIstanbulPlugin, {\n          // files outside `cwd` will not be instrumented\n          cwd: config.rootDir,\n          exclude: []\n        }]]);\n      }\n\n      const transformResult = (0, _core().transformSync)(src, babelOptions);\n\n      if (transformResult) {\n        const {\n          code,\n          map\n        } = transformResult;\n\n        if (typeof code === 'string') {\n          return {\n            code,\n            map\n          };\n        }\n      }\n\n      return src;\n    }\n\n  };\n};\n\nconst transformer = { ...createTransformer(),\n  // Assigned here so only the exported transformer has `createTransformer`,\n  // instead of all created transformers by the function\n  createTransformer\n};\nmodule.exports = transformer;","map":{"version":3,"sources":["/Users/wemi/jammming/node_modules/babel-jest/build/index.js"],"names":["_crypto","data","require","path","_interopRequireWildcard","_core","_chalk","_interopRequireDefault","fs","_slash","_loadBabelConfig","obj","__esModule","default","_getRequireWildcardCache","WeakMap","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","THIS_FILE","readFileSync","__filename","jestPresetPath","resolve","babelIstanbulPlugin","createTransformer","userOptions","_inputOptions$plugins","_inputOptions$presets","inputOptions","options","caller","name","supportsDynamicImport","supportsExportNamespaceFrom","supportsStaticESM","supportsTopLevelAwait","compact","plugins","presets","concat","sourceMaps","loadBabelConfig","cwd","filename","transformOptions","_transformOptions$sup","_transformOptions$sup2","_transformOptions$sup3","_transformOptions$sup4","babelConfig","loadPartialConfig","Error","bold","relative","canInstrument","getCacheKey","fileData","configString","cacheKeyOptions","config","instrument","rootDir","babelOptions","configPath","babelrc","createHash","update","JSON","stringify","join","process","env","NODE_ENV","BABEL_ENV","digest","src","auxiliaryCommentBefore","exclude","transformResult","transformSync","code","map","transformer","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nfunction _crypto() {\n  const data = require('crypto');\n\n  _crypto = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction path() {\n  const data = _interopRequireWildcard(require('path'));\n\n  path = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _core() {\n  const data = require('@babel/core');\n\n  _core = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _chalk() {\n  const data = _interopRequireDefault(require('chalk'));\n\n  _chalk = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction fs() {\n  const data = _interopRequireWildcard(require('graceful-fs'));\n\n  fs = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _slash() {\n  const data = _interopRequireDefault(require('slash'));\n\n  _slash = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar _loadBabelConfig = require('./loadBabelConfig');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {default: obj};\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== 'function') return null;\n  var cache = new WeakMap();\n  _getRequireWildcardCache = function () {\n    return cache;\n  };\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || (typeof obj !== 'object' && typeof obj !== 'function')) {\n    return {default: obj};\n  }\n  var cache = _getRequireWildcardCache();\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor =\n    Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor\n        ? Object.getOwnPropertyDescriptor(obj, key)\n        : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates. All Rights Reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nconst THIS_FILE = fs().readFileSync(__filename);\n\nconst jestPresetPath = require.resolve('babel-preset-jest');\n\nconst babelIstanbulPlugin = require.resolve('babel-plugin-istanbul'); // Narrow down the types\n\nconst createTransformer = userOptions => {\n  var _inputOptions$plugins, _inputOptions$presets;\n\n  const inputOptions =\n    userOptions !== null && userOptions !== void 0 ? userOptions : {};\n  const options = {\n    ...inputOptions,\n    caller: {\n      name: 'babel-jest',\n      supportsDynamicImport: false,\n      supportsExportNamespaceFrom: false,\n      supportsStaticESM: false,\n      supportsTopLevelAwait: false,\n      ...inputOptions.caller\n    },\n    compact: false,\n    plugins:\n      (_inputOptions$plugins = inputOptions.plugins) !== null &&\n      _inputOptions$plugins !== void 0\n        ? _inputOptions$plugins\n        : [],\n    presets: ((_inputOptions$presets = inputOptions.presets) !== null &&\n    _inputOptions$presets !== void 0\n      ? _inputOptions$presets\n      : []\n    ).concat(jestPresetPath),\n    sourceMaps: 'both'\n  };\n\n  function loadBabelConfig(cwd, filename, transformOptions) {\n    var _transformOptions$sup,\n      _transformOptions$sup2,\n      _transformOptions$sup3,\n      _transformOptions$sup4;\n\n    // `cwd` first to allow incoming options to override it\n    const babelConfig = (0, _loadBabelConfig.loadPartialConfig)({\n      cwd,\n      ...options,\n      caller: {\n        ...options.caller,\n        supportsDynamicImport:\n          (_transformOptions$sup =\n            transformOptions === null || transformOptions === void 0\n              ? void 0\n              : transformOptions.supportsDynamicImport) !== null &&\n          _transformOptions$sup !== void 0\n            ? _transformOptions$sup\n            : options.caller.supportsDynamicImport,\n        supportsExportNamespaceFrom:\n          (_transformOptions$sup2 =\n            transformOptions === null || transformOptions === void 0\n              ? void 0\n              : transformOptions.supportsExportNamespaceFrom) !== null &&\n          _transformOptions$sup2 !== void 0\n            ? _transformOptions$sup2\n            : options.caller.supportsExportNamespaceFrom,\n        supportsStaticESM:\n          (_transformOptions$sup3 =\n            transformOptions === null || transformOptions === void 0\n              ? void 0\n              : transformOptions.supportsStaticESM) !== null &&\n          _transformOptions$sup3 !== void 0\n            ? _transformOptions$sup3\n            : options.caller.supportsStaticESM,\n        supportsTopLevelAwait:\n          (_transformOptions$sup4 =\n            transformOptions === null || transformOptions === void 0\n              ? void 0\n              : transformOptions.supportsTopLevelAwait) !== null &&\n          _transformOptions$sup4 !== void 0\n            ? _transformOptions$sup4\n            : options.caller.supportsTopLevelAwait\n      },\n      filename\n    });\n\n    if (!babelConfig) {\n      throw new Error(\n        `babel-jest: Babel ignores ${_chalk().default.bold(\n          (0, _slash().default)(path().relative(cwd, filename))\n        )} - make sure to include the file in Jest's ${_chalk().default.bold(\n          'transformIgnorePatterns'\n        )} as well.`\n      );\n    }\n\n    return babelConfig;\n  }\n\n  return {\n    canInstrument: true,\n\n    getCacheKey(fileData, filename, configString, cacheKeyOptions) {\n      const {config, instrument, rootDir} = cacheKeyOptions;\n      const babelOptions = loadBabelConfig(\n        config.cwd,\n        filename,\n        cacheKeyOptions\n      );\n      const configPath = [\n        babelOptions.config || '',\n        babelOptions.babelrc || ''\n      ];\n      return (0, _crypto().createHash)('md5')\n        .update(THIS_FILE)\n        .update('\\0', 'utf8')\n        .update(JSON.stringify(babelOptions.options))\n        .update('\\0', 'utf8')\n        .update(fileData)\n        .update('\\0', 'utf8')\n        .update(path().relative(rootDir, filename))\n        .update('\\0', 'utf8')\n        .update(configString)\n        .update('\\0', 'utf8')\n        .update(configPath.join(''))\n        .update('\\0', 'utf8')\n        .update(instrument ? 'instrument' : '')\n        .update('\\0', 'utf8')\n        .update(process.env.NODE_ENV || '')\n        .update('\\0', 'utf8')\n        .update(process.env.BABEL_ENV || '')\n        .digest('hex');\n    },\n\n    process(src, filename, config, transformOptions) {\n      const babelOptions = {\n        ...loadBabelConfig(config.cwd, filename, transformOptions).options\n      };\n\n      if (\n        transformOptions === null || transformOptions === void 0\n          ? void 0\n          : transformOptions.instrument\n      ) {\n        babelOptions.auxiliaryCommentBefore = ' istanbul ignore next '; // Copied from jest-runtime transform.js\n\n        babelOptions.plugins = (babelOptions.plugins || []).concat([\n          [\n            babelIstanbulPlugin,\n            {\n              // files outside `cwd` will not be instrumented\n              cwd: config.rootDir,\n              exclude: []\n            }\n          ]\n        ]);\n      }\n\n      const transformResult = (0, _core().transformSync)(src, babelOptions);\n\n      if (transformResult) {\n        const {code, map} = transformResult;\n\n        if (typeof code === 'string') {\n          return {\n            code,\n            map\n          };\n        }\n      }\n\n      return src;\n    }\n  };\n};\n\nconst transformer = {\n  ...createTransformer(),\n  // Assigned here so only the exported transformer has `createTransformer`,\n  // instead of all created transformers by the function\n  createTransformer\n};\nmodule.exports = transformer;\n"]},"metadata":{},"sourceType":"script"}