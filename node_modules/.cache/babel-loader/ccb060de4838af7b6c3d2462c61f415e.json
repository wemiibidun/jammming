{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.getSequencer = exports.isJSONString = exports.getRunner = exports.getWatchPlugin = exports.getTestEnvironment = exports.resolveWithPrefix = exports._replaceRootDirTags = exports.replaceRootDirInPath = exports.escapeGlobCharacters = exports.resolve = exports.DOCUMENTATION_NOTE = exports.BULLET = void 0;\n\nfunction path() {\n  const data = _interopRequireWildcard(require('path'));\n\n  path = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _chalk() {\n  const data = _interopRequireDefault(require('chalk'));\n\n  _chalk = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _jestResolve() {\n  const data = _interopRequireDefault(require('jest-resolve'));\n\n  _jestResolve = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _jestValidate() {\n  const data = require('jest-validate');\n\n  _jestValidate = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== 'function') return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function () {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== 'object' && typeof obj !== 'function') {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n/**\n * Copyright (c) Facebook, Inc. and its affiliates. All Rights Reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nconst BULLET = _chalk().default.bold('\\u25cf ');\n\nexports.BULLET = BULLET;\nconst DOCUMENTATION_NOTE = `  ${_chalk().default.bold('Configuration Documentation:')}\n  https://jestjs.io/docs/configuration.html\n`;\nexports.DOCUMENTATION_NOTE = DOCUMENTATION_NOTE;\n\nconst createValidationError = message => new (_jestValidate().ValidationError)(`${BULLET}Validation Error`, message, DOCUMENTATION_NOTE);\n\nconst resolve = (resolver, {\n  key,\n  filePath,\n  rootDir,\n  optional\n}) => {\n  const module = _jestResolve().default.findNodeModule(replaceRootDirInPath(rootDir, filePath), {\n    basedir: rootDir,\n    resolver: resolver || undefined\n  });\n\n  if (!module && !optional) {\n    throw createValidationError(`  Module ${_chalk().default.bold(filePath)} in the ${_chalk().default.bold(key)} option was not found.\n         ${_chalk().default.bold('<rootDir>')} is: ${rootDir}`);\n  } /// can cast as string since nulls will be thrown\n\n\n  return module;\n};\n\nexports.resolve = resolve;\n\nconst escapeGlobCharacters = path => path.replace(/([()*{}\\[\\]!?\\\\])/g, '\\\\$1');\n\nexports.escapeGlobCharacters = escapeGlobCharacters;\n\nconst replaceRootDirInPath = (rootDir, filePath) => {\n  if (!/^<rootDir>/.test(filePath)) {\n    return filePath;\n  }\n\n  return path().resolve(rootDir, path().normalize('./' + filePath.substr('<rootDir>'.length)));\n};\n\nexports.replaceRootDirInPath = replaceRootDirInPath;\n\nconst _replaceRootDirInObject = (rootDir, config) => {\n  const newConfig = {};\n\n  for (const configKey in config) {\n    newConfig[configKey] = configKey === 'rootDir' ? config[configKey] : _replaceRootDirTags(rootDir, config[configKey]);\n  }\n\n  return newConfig;\n};\n\nconst _replaceRootDirTags = (rootDir, config) => {\n  if (config == null) {\n    return config;\n  }\n\n  switch (typeof config) {\n    case 'object':\n      if (Array.isArray(config)) {\n        /// can be string[] or {}[]\n        return config.map(item => _replaceRootDirTags(rootDir, item));\n      }\n\n      if (config instanceof RegExp) {\n        return config;\n      }\n\n      return _replaceRootDirInObject(rootDir, config);\n\n    case 'string':\n      return replaceRootDirInPath(rootDir, config);\n  }\n\n  return config;\n};\n\nexports._replaceRootDirTags = _replaceRootDirTags;\n\nconst resolveWithPrefix = (resolver, {\n  filePath,\n  humanOptionName,\n  optionName,\n  prefix,\n  rootDir\n}) => {\n  const fileName = replaceRootDirInPath(rootDir, filePath);\n\n  let module = _jestResolve().default.findNodeModule(`${prefix}${fileName}`, {\n    basedir: rootDir,\n    resolver: resolver || undefined\n  });\n\n  if (module) {\n    return module;\n  }\n\n  try {\n    return require.resolve(`${prefix}${fileName}`);\n  } catch {}\n\n  module = _jestResolve().default.findNodeModule(fileName, {\n    basedir: rootDir,\n    resolver: resolver || undefined\n  });\n\n  if (module) {\n    return module;\n  }\n\n  try {\n    return require.resolve(fileName);\n  } catch {}\n\n  throw createValidationError(`  ${humanOptionName} ${_chalk().default.bold(fileName)} cannot be found. Make sure the ${_chalk().default.bold(optionName)} configuration option points to an existing node module.`);\n};\n/**\n * Finds the test environment to use:\n *\n * 1. looks for jest-environment-<name> relative to project.\n * 1. looks for jest-environment-<name> relative to Jest.\n * 1. looks for <name> relative to project.\n * 1. looks for <name> relative to Jest.\n */\n\n\nexports.resolveWithPrefix = resolveWithPrefix;\n\nconst getTestEnvironment = ({\n  rootDir,\n  testEnvironment: filePath\n}) => resolveWithPrefix(undefined, {\n  filePath,\n  humanOptionName: 'Test environment',\n  optionName: 'testEnvironment',\n  prefix: 'jest-environment-',\n  rootDir\n});\n/**\n * Finds the watch plugins to use:\n *\n * 1. looks for jest-watch-<name> relative to project.\n * 1. looks for jest-watch-<name> relative to Jest.\n * 1. looks for <name> relative to project.\n * 1. looks for <name> relative to Jest.\n */\n\n\nexports.getTestEnvironment = getTestEnvironment;\n\nconst getWatchPlugin = (resolver, {\n  filePath,\n  rootDir\n}) => resolveWithPrefix(resolver, {\n  filePath,\n  humanOptionName: 'Watch plugin',\n  optionName: 'watchPlugins',\n  prefix: 'jest-watch-',\n  rootDir\n});\n/**\n * Finds the runner to use:\n *\n * 1. looks for jest-runner-<name> relative to project.\n * 1. looks for jest-runner-<name> relative to Jest.\n * 1. looks for <name> relative to project.\n * 1. looks for <name> relative to Jest.\n */\n\n\nexports.getWatchPlugin = getWatchPlugin;\n\nconst getRunner = (resolver, {\n  filePath,\n  rootDir\n}) => resolveWithPrefix(resolver, {\n  filePath,\n  humanOptionName: 'Jest Runner',\n  optionName: 'runner',\n  prefix: 'jest-runner-',\n  rootDir\n});\n\nexports.getRunner = getRunner; // newtype\n\nconst isJSONString = text => text != null && typeof text === 'string' && text.startsWith('{') && text.endsWith('}');\n\nexports.isJSONString = isJSONString;\n\nconst getSequencer = (resolver, {\n  filePath,\n  rootDir\n}) => resolveWithPrefix(resolver, {\n  filePath,\n  humanOptionName: 'Jest Sequencer',\n  optionName: 'testSequencer',\n  prefix: 'jest-sequencer-',\n  rootDir\n});\n\nexports.getSequencer = getSequencer;","map":{"version":3,"sources":["/Users/wemi/jammming/node_modules/jest-config/build/utils.js"],"names":["Object","defineProperty","exports","value","getSequencer","isJSONString","getRunner","getWatchPlugin","getTestEnvironment","resolveWithPrefix","_replaceRootDirTags","replaceRootDirInPath","escapeGlobCharacters","resolve","DOCUMENTATION_NOTE","BULLET","path","data","_interopRequireWildcard","require","_chalk","_interopRequireDefault","_jestResolve","_jestValidate","obj","__esModule","default","_getRequireWildcardCache","WeakMap","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","bold","createValidationError","message","ValidationError","resolver","filePath","rootDir","optional","module","findNodeModule","basedir","undefined","replace","test","normalize","substr","length","_replaceRootDirInObject","config","newConfig","configKey","Array","isArray","map","item","RegExp","humanOptionName","optionName","prefix","fileName","testEnvironment","text","startsWith","endsWith"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.getSequencer = exports.isJSONString = exports.getRunner = exports.getWatchPlugin = exports.getTestEnvironment = exports.resolveWithPrefix = exports._replaceRootDirTags = exports.replaceRootDirInPath = exports.escapeGlobCharacters = exports.resolve = exports.DOCUMENTATION_NOTE = exports.BULLET = void 0;\n\nfunction path() {\n  const data = _interopRequireWildcard(require('path'));\n\n  path = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _chalk() {\n  const data = _interopRequireDefault(require('chalk'));\n\n  _chalk = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _jestResolve() {\n  const data = _interopRequireDefault(require('jest-resolve'));\n\n  _jestResolve = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _jestValidate() {\n  const data = require('jest-validate');\n\n  _jestValidate = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {default: obj};\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== 'function') return null;\n  var cache = new WeakMap();\n  _getRequireWildcardCache = function () {\n    return cache;\n  };\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || (typeof obj !== 'object' && typeof obj !== 'function')) {\n    return {default: obj};\n  }\n  var cache = _getRequireWildcardCache();\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor =\n    Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor\n        ? Object.getOwnPropertyDescriptor(obj, key)\n        : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates. All Rights Reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nconst BULLET = _chalk().default.bold('\\u25cf ');\n\nexports.BULLET = BULLET;\nconst DOCUMENTATION_NOTE = `  ${_chalk().default.bold(\n  'Configuration Documentation:'\n)}\n  https://jestjs.io/docs/configuration.html\n`;\nexports.DOCUMENTATION_NOTE = DOCUMENTATION_NOTE;\n\nconst createValidationError = message =>\n  new (_jestValidate().ValidationError)(\n    `${BULLET}Validation Error`,\n    message,\n    DOCUMENTATION_NOTE\n  );\n\nconst resolve = (resolver, {key, filePath, rootDir, optional}) => {\n  const module = _jestResolve().default.findNodeModule(\n    replaceRootDirInPath(rootDir, filePath),\n    {\n      basedir: rootDir,\n      resolver: resolver || undefined\n    }\n  );\n\n  if (!module && !optional) {\n    throw createValidationError(`  Module ${_chalk().default.bold(\n      filePath\n    )} in the ${_chalk().default.bold(key)} option was not found.\n         ${_chalk().default.bold('<rootDir>')} is: ${rootDir}`);\n  } /// can cast as string since nulls will be thrown\n\n  return module;\n};\n\nexports.resolve = resolve;\n\nconst escapeGlobCharacters = path => path.replace(/([()*{}\\[\\]!?\\\\])/g, '\\\\$1');\n\nexports.escapeGlobCharacters = escapeGlobCharacters;\n\nconst replaceRootDirInPath = (rootDir, filePath) => {\n  if (!/^<rootDir>/.test(filePath)) {\n    return filePath;\n  }\n\n  return path().resolve(\n    rootDir,\n    path().normalize('./' + filePath.substr('<rootDir>'.length))\n  );\n};\n\nexports.replaceRootDirInPath = replaceRootDirInPath;\n\nconst _replaceRootDirInObject = (rootDir, config) => {\n  const newConfig = {};\n\n  for (const configKey in config) {\n    newConfig[configKey] =\n      configKey === 'rootDir'\n        ? config[configKey]\n        : _replaceRootDirTags(rootDir, config[configKey]);\n  }\n\n  return newConfig;\n};\n\nconst _replaceRootDirTags = (rootDir, config) => {\n  if (config == null) {\n    return config;\n  }\n\n  switch (typeof config) {\n    case 'object':\n      if (Array.isArray(config)) {\n        /// can be string[] or {}[]\n        return config.map(item => _replaceRootDirTags(rootDir, item));\n      }\n\n      if (config instanceof RegExp) {\n        return config;\n      }\n\n      return _replaceRootDirInObject(rootDir, config);\n\n    case 'string':\n      return replaceRootDirInPath(rootDir, config);\n  }\n\n  return config;\n};\n\nexports._replaceRootDirTags = _replaceRootDirTags;\n\nconst resolveWithPrefix = (\n  resolver,\n  {filePath, humanOptionName, optionName, prefix, rootDir}\n) => {\n  const fileName = replaceRootDirInPath(rootDir, filePath);\n\n  let module = _jestResolve().default.findNodeModule(`${prefix}${fileName}`, {\n    basedir: rootDir,\n    resolver: resolver || undefined\n  });\n\n  if (module) {\n    return module;\n  }\n\n  try {\n    return require.resolve(`${prefix}${fileName}`);\n  } catch {}\n\n  module = _jestResolve().default.findNodeModule(fileName, {\n    basedir: rootDir,\n    resolver: resolver || undefined\n  });\n\n  if (module) {\n    return module;\n  }\n\n  try {\n    return require.resolve(fileName);\n  } catch {}\n\n  throw createValidationError(\n    `  ${humanOptionName} ${_chalk().default.bold(\n      fileName\n    )} cannot be found. Make sure the ${_chalk().default.bold(\n      optionName\n    )} configuration option points to an existing node module.`\n  );\n};\n/**\n * Finds the test environment to use:\n *\n * 1. looks for jest-environment-<name> relative to project.\n * 1. looks for jest-environment-<name> relative to Jest.\n * 1. looks for <name> relative to project.\n * 1. looks for <name> relative to Jest.\n */\n\nexports.resolveWithPrefix = resolveWithPrefix;\n\nconst getTestEnvironment = ({rootDir, testEnvironment: filePath}) =>\n  resolveWithPrefix(undefined, {\n    filePath,\n    humanOptionName: 'Test environment',\n    optionName: 'testEnvironment',\n    prefix: 'jest-environment-',\n    rootDir\n  });\n/**\n * Finds the watch plugins to use:\n *\n * 1. looks for jest-watch-<name> relative to project.\n * 1. looks for jest-watch-<name> relative to Jest.\n * 1. looks for <name> relative to project.\n * 1. looks for <name> relative to Jest.\n */\n\nexports.getTestEnvironment = getTestEnvironment;\n\nconst getWatchPlugin = (resolver, {filePath, rootDir}) =>\n  resolveWithPrefix(resolver, {\n    filePath,\n    humanOptionName: 'Watch plugin',\n    optionName: 'watchPlugins',\n    prefix: 'jest-watch-',\n    rootDir\n  });\n/**\n * Finds the runner to use:\n *\n * 1. looks for jest-runner-<name> relative to project.\n * 1. looks for jest-runner-<name> relative to Jest.\n * 1. looks for <name> relative to project.\n * 1. looks for <name> relative to Jest.\n */\n\nexports.getWatchPlugin = getWatchPlugin;\n\nconst getRunner = (resolver, {filePath, rootDir}) =>\n  resolveWithPrefix(resolver, {\n    filePath,\n    humanOptionName: 'Jest Runner',\n    optionName: 'runner',\n    prefix: 'jest-runner-',\n    rootDir\n  });\n\nexports.getRunner = getRunner;\n\n// newtype\nconst isJSONString = text =>\n  text != null &&\n  typeof text === 'string' &&\n  text.startsWith('{') &&\n  text.endsWith('}');\n\nexports.isJSONString = isJSONString;\n\nconst getSequencer = (resolver, {filePath, rootDir}) =>\n  resolveWithPrefix(resolver, {\n    filePath,\n    humanOptionName: 'Jest Sequencer',\n    optionName: 'testSequencer',\n    prefix: 'jest-sequencer-',\n    rootDir\n  });\n\nexports.getSequencer = getSequencer;\n"]},"metadata":{},"sourceType":"script"}